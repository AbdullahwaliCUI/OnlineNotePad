@import "tailwindcss";
@import "react-quill/dist/quill.snow.css";

/* @plugin "tailwindcss-animate"; removed for now */
/* @custom-variant dark (&:where(.dark, .dark *)); removed for now */

/* Basic Theme Variables via CSS */
:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --primary: 221.2 83.2% 53.3%;
  --primary-foreground: 210 40% 98%;
  /* Add other variables as standard CSS if needed, or use hardcoded values in classes */
}

.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    /* Theme background will be applied by ThemeWrapper */
    min-height: 100vh;
  }

  .dark body {
    @apply bg-gray-900 text-white;
  }

  /* Ensure input visibility */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  textarea,
  select {
    color: #111827 !important;
    background-color: #ffffff !important;
    caret-color: #111827 !important;
  }

  input[type="text"]::placeholder,
  input[type="email"]::placeholder,
  input[type="password"]::placeholder,
  input[type="tel"]::placeholder,
  textarea::placeholder {
    color: #6b7280 !important;
  }
}

@layer components {
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50;
  }

  .btn-disabled {
    @apply inline-flex items-center justify-center rounded-lg bg-gray-300 px-4 py-2 text-sm font-medium text-gray-500 cursor-not-allowed;
  }

  /* Sidebar styles */
  .sidebar-nav-item {
    @apply flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors;
  }

  .sidebar-nav-item-active {
    @apply bg-blue-800 text-white border-r-2 border-blue-300;
  }

  .sidebar-nav-item-inactive {
    @apply text-blue-200 hover:text-white hover:bg-blue-700;
  }

  /* Sidebar animations */
  .sidebar-enter {
    transform: translateX(-100%);
  }

  .sidebar-enter-active {
    transform: translateX(0);
    transition: transform 300ms ease-in-out;
  }

  .sidebar-exit {
    transform: translateX(0);
  }

  .sidebar-exit-active {
    transform: translateX(-100%);
    transition: transform 300ms ease-in-out;
  }

  /* Homepage animations */
  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out;
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  /* Note card styles */
  .note-card {
    @apply bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-all cursor-pointer;
  }

  .stat-card {
    @apply bg-white rounded-lg p-4 shadow-sm border border-gray-100;
  }

  /* Dashboard header tweaks */
  .dashboard-hero {
    @apply bg-transparent;
  }

  .note-card-grid {
    @apply p-6 h-64 flex flex-col;
  }

  .note-card-list {
    @apply p-4;
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Prose */
  .prose {
    @apply max-w-[65ch] leading-7;
  }

  /* Enhanced prose styling for rich content */
  .prose ul {
    @apply list-disc list-inside my-4 space-y-2;
  }

  .prose ol {
    @apply list-decimal list-inside my-4 space-y-2;
  }

  .prose li {
    @apply leading-relaxed;
  }

  .prose ul ul,
  .prose ol ol,
  .prose ul ol,
  .prose ol ul {
    @apply mt-2 mb-2 ml-6;
  }

  .prose p {
    @apply my-4 leading-relaxed;
  }

  .prose h1 {
    @apply text-2xl font-bold mt-6 mb-4;
  }

  .prose h2 {
    @apply text-xl font-bold mt-5 mb-3;
  }

  .prose h3 {
    @apply text-lg font-bold mt-4 mb-2;
  }

  .prose strong {
    @apply font-semibold;
  }

  .prose em {
    @apply italic;
  }

  .prose a {
    @apply text-blue-600 underline hover:text-blue-800;
  }

  .prose blockquote {
    @apply border-l-4 border-gray-300 pl-4 italic my-4;
  }

  /* Quill editor content styling */
  .ql-editor ol,
  .ql-editor ul {
    @apply pl-6 my-4;
  }

  .ql-editor li {
    @apply mb-2;
  }

  .ql-editor ol li {
    @apply list-decimal;
  }

  .ql-editor ul li {
    @apply list-disc;
  }

  /* Quill list classes */
  .ql-editor .ql-list-ordered {
    @apply list-decimal list-inside;
  }

  .ql-editor .ql-list-bullet {
    @apply list-disc list-inside;
  }

  /* Ensure proper list display */
  .ql-editor ol > li,
  .ql-editor ul > li {
    @apply block;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}